<div class="eca-actions">
    <button mat-flat-button color="secondary" [routerLink]="['/']"><mat-icon>arrow_back</mat-icon>Back</button>
    <button mat-flat-button color="primary" (click)="remove()">Reset</button>
    <button mat-flat-button color="primary" (click)="save()" [disabled]="!(dirty)">Save</button>
  </div>
  <div class="loading-shade" *ngIf="saving">
    <mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
  </div>
  <div *ngIf="settings">
    <h2 class="example-margin">General Settings</h2>
    <section class="settings-section">
      <mat-checkbox [checked]="settings.deleteAfterCreateNew" (change)="changeIfToDeleteOldReq(!settings.deleteAfterCreateNew)">Delete old requests after creating the new one</mat-checkbox>
    </section>

    <div *ngFor="let setting of settings['settings']">
      <h2 class="example-margin">{{setting['name']}}</h2>
      <section class="settings-section" *ngFor="let field of setting['fields']">
        <mat-checkbox [checked]="field.change" (change)="changeValue(setting['name'],field.description)" labelPosition="after">{{field.description}}</mat-checkbox>
      </section>
    </div>
    
  </div>